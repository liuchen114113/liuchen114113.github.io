<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.9.0">
  
  <!-- Google Tag Manager -->
  <script>
    ; (function (w, d, s, l, i) {
      w[l] = w[l] || []
      w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' })
      var f = d.getElementsByTagName(s)[0],
        j = d.createElement(s),
        dl = l != 'dataLayer' ? '&l=' + l : ''
      j.async = true
      j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl
      f.parentNode.insertBefore(j, f)
    })(window, document, 'script', 'dataLayer', 'GTM-WJ7P5KL')
  </script>
  <!-- End Google Tag Manager -->

  <!-- 百度统计 -->
  <script>
    var _hmt = _hmt || []
      ; (function () {
        var hm = document.createElement('script')
        hm.src = 'https://hm.baidu.com/hm.js?5a0acc897fd96474a2c8f4deac84611a'
        var s = document.getElementsByTagName('script')[0]
        s.parentNode.insertBefore(hm, s)
      })()
  </script>
  <!-- 百度统计 -->

  
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="vvVgSQUzPU">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="keywords" content>
  
  <meta name="google-site-verification" content="VQowHv5lAVVWJxjKI9bnAWT7NGdOrfS5KnLF07-B7w0">
  
  <meta name="description" content>
  <title>Hexo - </title>

  <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/style/style.css">
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
  <script>
    hljs.initHighlightingOnLoad();
  </script>
  <script type="text/javascript" src="https://unpkg.com/minigrid@3.1.1/dist/minigrid.min.js"></script>
  <link rel="stylesheet" href="../source/photos/photos.css">
  <script type="text/javascript" src="../source/photos/photo.js"></script>
</head>

<body>
  <div id="fixed-menu">
    <div class="up">
      <svg class="icon" aria-hidden="true">
        <use xlink:href="#icon-fenzu7"/>
      </svg>
    </div>
  </div>
  <div id="progress">
    <div class="line"></div>
  </div>
  <div id="head">
    
    <a href="/" class>
      Home
    </a>
    
    <a href="/archives" class>
      Archives
    </a>
    
    <a href="/about" class>
      About
    </a>
    
  </div>
  <div id="container">
    <div id="main">
      <div class="navbar">
        <div class="toggle">
          <svg class="icon toggle-icon" aria-hidden="true">
            <use xlink:href="#icon-fenzu3"/>
          </svg>
        </div>
        <div class="search">
          <div class="input-warp">
            <svg class="icon" aria-hidden="true">
              <use xlink:href="#icon-fenzu"/>
            </svg>
            <input type="text" name id placeholder="Search Keys">
          </div>
        </div>
      </div>
      <div class="content">
        <article class="post-entry">
    <div class="header">
      <div class="title">浏览器工作机制</div>
        
        <div class="meta">
        <span>
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-fenzu4"/>
          </svg>
          2020/01/20
        </span>
        <span>
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-fenzu14"/>
          </svg>
          <span>
            
              
            
          </span>
        </span>
        <span>
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-fenzu15"/>
          </svg>
          <span>
            
              
            
          </span>
        </span>
        <span class="leancloud-visitors" id="https://liuchen114113.github.io/2020/01/20/浏览器工作机制/" data-flag-title="浏览器工作机制">
          <svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-fenzu6"/>
          </svg>
          <span class="leancloud-visitors-count"></span>
        </span>
        </div>
        
         
      <div>
      </div>
    </div>
    <h2 id="进程和线程"><a href="#进程和线程" class="headerlink" title="进程和线程"></a>进程和线程</h2><p><img src="/image/xiancheng.jpg" alt="进程和线程"></p>
<h2 id="哪些进程？"><a href="#哪些进程？" class="headerlink" title="哪些进程？"></a>哪些进程？</h2><p>浏览器包括4个进程<br><img src="/image/brower.jpg" alt="进程"></p>
<h2 id="多进程优势"><a href="#多进程优势" class="headerlink" title="多进程优势"></a>多进程优势</h2><ul>
<li>避免单个页⾯崩溃，影响整个浏览器</li>
<li>避免插件崩溃，影响整个浏览器</li>
<li>多进程充分利⽤多核优势</li>
</ul>
<p>对于前端来说最重要的进程是：渲染进程，牢记：渲染进程是多线程的。</p>
<h2 id="渲染进程有那些线程"><a href="#渲染进程有那些线程" class="headerlink" title="渲染进程有那些线程"></a>渲染进程有那些线程</h2><p><img src="/image/11.jpg" alt="线程"></p>
<h2 id="⼀道经典⾯试题"><a href="#⼀道经典⾯试题" class="headerlink" title="⼀道经典⾯试题"></a>⼀道经典⾯试题</h2><p>输⼊⼀个url后 ——&gt; 浏览器主进程接管，开⼀个下载进程 ——&gt; ⼀系列http请求（DNS解析等）——&gt;<br>拿到返回内容后交给浏览器内核 ——&gt;  浏览器渲染流程开始<br><img src="/image/xuanran.jpg" alt="渲染"></p>
<h2 id="硬件加速"><a href="#硬件加速" class="headerlink" title="硬件加速"></a>硬件加速</h2><p>硬件渲染 WebKit 会依据指定条件决定将那些 RenderLayer 对象组合在⼀起形成⼀个新层并缓存在<br>GPU，这些新层我们统称为合成层（Compositing Layer）。这些合成层提升成独⽴的层，被独⽴出来之后，<br>便不会再影响其他 dom 的布局。如果发⽣ 偏移、透明度等等变换 GPU 要做的只是把更新的合成层进⾏相应<br>的变换并送⼊ Compositor 重新合成即可，利⽤这个优点我们可以把页⾯中⼀些布局经常变换的 dom 提升到独⽴的层</p>
<h2 id="宏任务和微任务"><a href="#宏任务和微任务" class="headerlink" title="宏任务和微任务"></a>宏任务和微任务</h2><h4 id="宏任务："><a href="#宏任务：" class="headerlink" title="宏任务："></a>宏任务：</h4><p>每次执⾏栈执⾏的任务就是⼀个宏任务 每个宏任务结束以后，下⼀个宏任务开始前，会重新渲染页⾯</p>
<h4 id="微任务："><a href="#微任务：" class="headerlink" title="微任务："></a>微任务：</h4><p>在当前宏任务后，下⼀个宏任务前，渲染前，执⾏多了⼀个微任务队列，某⼀个宏任务执⾏后，在此期间内产⽣的所有微任务都会执⾏完毕</p>


  

  <!---->

  <!--</div>-->

  <!--<div class="post-copyright">-->
    <!--<div class="auth">-->
      <!--本文作者：<a href="https://liuchen114113.github.io">liuchenchen</a>-->
    <!--</div>-->
    <!--<div class="link">-->
      <!--永久链接：<a href="https://liuchen114113.github.io/2020/01/20/浏览器工作机制/">https://liuchen114113.github.io/2020/01/20/浏览器工作机制/</a>-->
    <!--</div>-->
    <!--<div class="declare">-->
      <!--版权声明：本文首发于<a href="https://liuchen114113.github.io">liuchenchen</a>的博客，转载请注明出处！-->
    <!--</div>-->
  <!--</div>-->

    <!-- Comments -->
    <div class="comments" id="zss">
        
            <br><br>
            
            <div class="disqus" style="width:100%">
  <div id="disqus_thread"></div>
  <script>
    var disqus_shortname = '哎哟喂';
    var disqus_config = function () {
      this.page.url = 'https://liuchen114113.github.io/2020/01/20/浏览器工作机制/';
      this.page.identifier = '/2020/01/20/浏览器工作机制/';
    };
    (function () {
      var d = document, s = d.createElement('script');
      s.type = 'text/javascript';
      s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow noopener">comments powered by Disqus.</a></noscript>
</div>

<div id="gitment_title" class="gitment_title"></div>
<div id="container" style="display:none"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
  const myTheme = {
    render(state, instance) {
      const container = document.createElement('div');
      container.lang = "en-US";
      container.className = 'gitment-container gitment-root-container';
      container.appendChild(instance.renderHeader(state, instance));
      container.appendChild(instance.renderEditor(state, instance));
      container.appendChild(instance.renderComments(state, instance));
      container.appendChild(instance.renderFooter(state, instance));
      return container;
    }
  }
  function showGitment() {
    $("#gitment_title").attr("style", "display:none");
    $("#aiyowei").attr("style", "").addClass("gitment_container");
    var gitment = new Gitment({
      id: decodeURI(window.location.pathname),
      theme: myTheme,
      owner: 'liuchen114113',
      repo: 'liuchen114113.github.io/',
      oauth: {
        client_id: '5efaeab243c9580dea8e',
        client_secret: '017d390a8c804b69f4aeda229cca6a737e7346f9'
      }
    });
    gitment.render('aiyowei');
  }
  showGitment();
</script>

        
    </div>

  <!--<div id="comment"></div>-->

</article>
      </div>
      <footer>
        <div class="copyright">
          ©2019 <a href="https://liuchen114113.github.io">liuchenchen</a>. Powered by Hexo &
          <a href="https://github.com/shixiaohu2206/hexo-theme-huhu">hexo-theme-huhu</a>
        </div>
        
      </footer>
    </div>
    <div id="card-wrap">
      <div class="card">
        <div class="logo-widget">
          <div class="author">
            我叫哎哟喂
          </div>
          <!--<div class="logo" style="background-image: url('/images/logo.jpeg')"></div>-->
        </div>
        <div class="locate-widget">
          <div class="city-wrap">
            <svg class="icon location" aria-hidden="true">
              <use xlink:href="#icon-fenzu9"/>
            </svg>
            <span id="city-name"></span>
          </div>
          <div class="weather-wrap">
            <div id="weather-img">
              <svg class="icon weather" aria-hidden="true">
                <use xlink:href="#icon-qingjiafeng"/>
              </svg>
            </div>
            <div id="weather-detail"></div>
          </div>
        </div>
        <div class="follow-widget">
          
          <a href="https://github.com/liuchen114113" target="_block">
            <svg class="icon font" aria-hidden="true">
              <use xlink:href="#icon-github"/>
            </svg>
          </a>
           
        </div>
         
        <div class="toc-widget">
          <div class="title">
            <span>Toc</span>
          </div>
          <div class="post-toc">
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#进程和线程"><span class="toc-text">进程和线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#哪些进程？"><span class="toc-text">哪些进程？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#多进程优势"><span class="toc-text">多进程优势</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#渲染进程有那些线程"><span class="toc-text">渲染进程有那些线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#⼀道经典⾯试题"><span class="toc-text">⼀道经典⾯试题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#硬件加速"><span class="toc-text">硬件加速</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#宏任务和微任务"><span class="toc-text">宏任务和微任务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#宏任务："><span class="toc-text">宏任务：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#微任务："><span class="toc-text">微任务：</span></a></li></ol></li></ol>
          </div>
        </div>
         
        <div class="category-widget">
          <div class="title">
            <span>Categories</span>
            <span><a href="/archives">···</a></span>
          </div>
          <div class="list">
            <ul>
              
            </ul>
          </div>
        </div>
        <div class="tag-widget">
          <div class="title">
            <span>Tag Cloud</span>
            <span><a href>···</a></span>
          </div>
          <div class="tag-cloud">
            
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WJ7P5KL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


</html>
<script type="text/javascript">
  window.THEME_CONFIG = JSON.parse('{"title":"Hexo","subtitle":null,"description":null,"author":"liuchenchen","language":"en","timezone":null,"url":"https://liuchen114113.github.io","root":"/","permalink":":year/:month/:day/:title/","permalink_defaults":null,"source_dir":"source","public_dir":"public","tag_dir":"tags","archive_dir":"archives","category_dir":"categories","code_dir":"downloads/code","i18n_dir":":lang","skip_render":null,"new_post_name":":title.md","default_layout":"post","titlecase":false,"external_link":true,"filename_case":0,"render_drafts":false,"post_asset_folder":false,"relative_link":false,"future":true,"highlight":{"enable":true,"auto_detect":false,"line_number":true,"tab_replace":null,"first_line_number":"always1"},"default_category":"uncategorized","category_map":null,"tag_map":null,"date_format":"YYYY-MM-DD","time_format":"HH:mm:ss","per_page":10,"pagination_dir":"page","theme":"hexo-theme-huhu1","deploy":{"type":"git","repository":"https://github.com/liuchen114113/liuchen114113.github.io.git","branch":"master"},"ignore":[],"keywords":null,"index_generator":{"per_page":10,"order_by":"-date","path":""},"search":{"path":"search.xml","field":"all"},"jsonContent":{"dateFormat":"YYYY/MM/DD","pages":false,"posts":{"tags":true,"title":true,"date":true,"text":true,"permalink":true,"photos":true},"file":"content.json"},"gitment":{"enable":true,"mint":true,"count":true,"lazy":false,"cleanly":false,"language":null,"github_user":"liuchen114113","github_repo":"liuchen114113.github.io/","client_id":"5efaeab243c9580dea8e","client_secret":"017d390a8c804b69f4aeda229cca6a737e7346f9","proxy_gateway":null,"redirect_protocol":null},"category_generator":{"per_page":10},"archive_generator":{"per_page":10,"yearly":true,"monthly":true,"daily":false},"tag_generator":{"per_page":10},"marked":{"gfm":true,"pedantic":false,"sanitize":false,"tables":true,"breaks":true,"smartLists":true,"smartypants":true,"modifyAnchors":"","autolink":true},"server":{"port":4000,"log":false,"compress":false,"header":true},"menu":{"home":"/","archives":"/archives","about":"/about"},"logo":"/images/logo.jpg","categories_max":5,"tags_max":10,"favicon":"/images/favicon.ico","site_search":true,"follow":{"github":"https://github.com/liuchen114113"},"search_url":"/search.xml","site_icp":"","changyan":{"appid":"","conf":""},"valine":{"API_ID":"FjXColpwTL0BsrjJIN8Pmnn0-gzGzoHsz","API_KEY":"Ar7tucPRn3KV7UOidQxESoys"},"busuanzi":true,"share":["weibo","weixin","qqkongjian","QQ","douban","facebook","twitter","google"],"cdn_module":{"av_min":"https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min","jquery":"https://cdn.bootcss.com/jquery/3.4.1/jquery.min","busuanzi":"//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini","confirm":"https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min","fancybox":"https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min"},"google_site_verification":"VQowHv5lAVVWJxjKI9bnAWT7NGdOrfS5KnLF07-B7w0","gtm_id":"GTM-WJ7P5KL","baidu_push":true,"disqus":{"shortname":"哎哟喂"},"post":{"date_format":"dddd, MMMM Do YYYY, h:mm a","comments":{"enable":true,"type":"disqus"}}}')
  window.loadJs = function (d, m, a) {
    var c = document.getElementsByTagName('head')[0] || document.head || document.documentElement
    var b = document.createElement('script')
    b.defer = true
    b.setAttribute('type', 'text/javascript')
    b.setAttribute('charset', 'UTF-8')
    b.setAttribute('async', 'true')
    b.setAttribute('src', d)
    m && b.setAttribute('data-main', '/scripts/app')
    if (typeof a === 'function') {
      if (window.attachEvent) {
        b.onreadystatechange = function () {
          var e = b.readyState
          if (e === 'loaded' || e === 'complete') {
            b.onreadystatechange = null
            a()
          }
        }
      } else {
        b.onload = a
      }
    }
    c.appendChild(b)
  }
  loadJs('https://cdn.bootcss.com/require.js/2.3.6/require.min.js', true, function () {
    require.config({
      paths: {
        // site
        share: 'share',
        iconfont: 'iconfont',
        hodgepodge: 'hodgepodge',
        valine: ['cdn/Valine.min'],

        // cdn
        av: ['https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min', 'cdn/av-min'],
        jquery: ['https://cdn.bootcss.com/jquery/3.4.1/jquery.min', 'cdn/jquery.min'],
        busuanzi: ['//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini', 'cdn/busuanzi.pure.mini'],
        confirm: ['https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min', 'cdn/jquery.confirm.min'],
        fancybox: ['https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min', 'cdn/jquery.fancybox.min']
      },

      map: {
        '*': {
          // css: '/scripts/cdn/css-min.js'
          css: 'https://cdn.bootcss.com/require-css/0.1.10/css.min.js'
        }
      },

      shim: {
        fancybox: {
          // deps: ['css!../style/fancybox']
          deps: ['css!https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css']
        },
        confirm: {
          // deps: ['css!../style/confirm']
          deps: ['css!https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min.css']
        }
      },

      // 加载超时
      waitSeconds: 3
    })
  })
</script>

<script>
    ; (function () {
      var bp = document.createElement('script')
      var curProtocol = window.location.protocol.split(':')[0]
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js'
      }
      var s = document.getElementsByTagName('script')[0]
      s.parentNode.insertBefore(bp, s)
    })()
</script>
